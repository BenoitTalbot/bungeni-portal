<?xml version="1.0"?>
<workflow
   id="bill-workflow"
   title="bill Workflow"
   description="A bill"
   initial_state="">

  <state id="bungeni.core.workflows.wfstates.billstates.draft" title="draft bill">
    <grant permission="bungeni.bill.edit" role="bungeni.Owner" />
    <grant permission="bungeni.bill.view" role="bungeni.Owner" />    
    <grant permission="bungeni.bill.delete" role="bungeni.Owner" />    
  </state>
  
  <state id="bungeni.core.workflows.wfstates.billstates.submitted" title="bill published in gazette">
    <deny permission="bungeni.bill.edit" role="bungeni.Owner" />
    <deny permission="bungeni.bill.delete" role="bungeni.Owner" />        
    <grant permission="bungeni.bill.view" role="bungeni.Clerk" />   
    <grant permission="bungeni.bill.edit" role="bungeni.Clerk" />                 
  </state>

  <state id="bungeni.core.workflows.wfstates.billstates.first_reading" title="first reading">

  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.first_reading_postponed" title="first reading postponed">
 
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.second_reading_pending" title="second reading pending">

  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.second_reading" title="second reading">
  
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.second_reading_postponed" title="second reading postponed">
 
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.house_pending" title="house pending">
  
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.whole_house" title="whole house">

  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.whole_house_postponed" title="whole house postponed">

  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.second_committee" title="second committee">
   
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.report_reading_pending" title="report reading pending">
 
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.report_reading" title="report reading">
    
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.report_reading_postponed" title="report reading postponed">
  
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.third_reading_pending" title="third reading pending">
   
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.third_reading" title="third reading">
      
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.third_reading_postponed" title="third reading postponed">

  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.withdrawn" title="bill withdrawn">
    <deny permission="bungeni.bill.edit" role="bungeni.Clerk" />
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.approved" title="approved bill">
    <deny permission="bungeni.bill.edit" role="bungeni.Clerk" />
  </state>
    

  <state id="bungeni.core.workflows.wfstates.billstates.rejected" title="rejected bill">
    <deny permission="bungeni.bill.edit" role="bungeni.Clerk" />
  </state>
    

    
<transition
id="create-bill"
title="Create"
trigger="automatic"
source=""
destination="bungeni.core.workflows.wfstates.billstates.draft"
action="bungeni.core.workflows.billactions.create"
condition=""
/>
<transition
id="submit-bill"
title="Publish in Gazette"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.draft"
destination="bungeni.core.workflows.wfstates.billstates.submitted"
permission="bungeni.bill.Submit"
action="bungeni.core.workflows.billactions.submit"
condition=""
/>
<transition
id="schedule-first"
title="Schedule First Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.submitted"
destination="bungeni.core.workflows.wfstates.billstates.first_reading"
permission="bungeni.bill.Schedule"
action="bungeni.core.workflows.billactions.schedule_first"
condition="bungeni.core.workflows.utils.getBillSchedule"
/>
<transition
id="postpone-first"
title="Postpone First Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_reading"
destination="bungeni.core.workflows.wfstates.billstates.first_reading_postponed"
permission="bungeni.bill.Schedule"
action="bungeni.core.workflows.billactions.postpone_first"
condition=""
/>
<transition
id="reschedule-first"
title="Reschedule First Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_reading_postponed"
destination="bungeni.core.workflows.wfstates.billstates.first_reading"
permission="bungeni.bill.Schedule"
action="bungeni.core.workflows.billactions.schedule_first"
condition=""
/>
<transition
id="select-first-committee"
title="Send to Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_reading"
destination="bungeni.core.workflows.wfstates.billstates.first_committee"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="schedule-second-from-first-committee"
title="Second Reading schedule"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_committee"
destination="bungeni.core.workflows.wfstates.billstates.second_reading_pending"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="schedule-second"
title="Schedule Second Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_reading_pending"
destination="bungeni.core.workflows.wfstates.billstates.second_reading"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="ma-schedule-second"
title="Schedule Second Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_reading"
destination="bungeni.core.workflows.wfstates.billstates.second_reading_pending"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="postpone-second"
title="Postpone Second Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_reading"
destination="bungeni.core.workflows.wfstates.billstates.second_reading_postponed"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="reschedule-second"
title="Reschedule Second Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_reading_postponed"
destination="bungeni.core.workflows.wfstates.billstates.second_reading"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="ma-schedule-whole-house"
title="Schedule Whole House Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_reading"
destination="bungeni.core.workflows.wfstates.billstates.house_pending"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="schedule-whole-house"
title="Do Schedule Whole House Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.house_pending"
destination="bungeni.core.workflows.wfstates.billstates.whole_house"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="postpone-whole-house"
title="Postpone Whole House Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.whole_house"
destination="bungeni.core.workflows.wfstates.billstates.whole_house_postponed"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="reschedule-whole-house"
title="Reschedule Whole House Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.whole_house_postponed"
destination="bungeni.core.workflows.wfstates.billstates.whole_house"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="postpone-second-reading-and-whole-house"
title="Postpone Second Reading and Whole House Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.whole_house"
destination="bungeni.core.workflows.wfstates.billstates.second_reading_postponed"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="select-second-committee"
title="Send to Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.whole_house"
destination="bungeni.core.workflows.wfstates.billstates.second_committee"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="ma-schedule-second-report-reading"
title="Schedule Report Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_committee"
destination="bungeni.core.workflows.wfstates.billstates.report_reading_pending"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="schedule-second-report-reading"
title="Schedule Report Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.report_reading_pending"
destination="bungeni.core.workflows.wfstates.billstates.report_reading"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="postpone-second-report-reading"
title="Postpone Report Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.report_reading"
destination="bungeni.core.workflows.wfstates.billstates.report_reading_postponed"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="reschedule-second-report-reading"
title="Reschedule Report Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.report_reading_postponed"
destination="bungeni.core.workflows.wfstates.billstates.report_reading"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="ma-second-committee-schedule-third-reading"
title="Schedule Third Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.report_reading"
destination="bungeni.core.workflows.wfstates.billstates.third_reading_pending"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="second-committee-schedule-third-reading"
title="Schedule Third Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.third_reading_pending"
destination="bungeni.core.workflows.wfstates.billstates.third_reading"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="recommit-second-committee"
title="Recommit to 2nd Committee"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.report_reading"
destination="bungeni.core.workflows.wfstates.billstates.second_committee"
permission="bungeni.bill.SelectCommittee"
action=""
condition=""
/>
<transition
id="ma-schedule-third-reading"
title="Schedule Third Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.whole_house"
destination="bungeni.core.workflows.wfstates.billstates.third_reading_pending"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="postpone-third-reading"
title="Postpone Third Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.third_reading"
destination="bungeni.core.workflows.wfstates.billstates.third_reading_postponed"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="reschedule-third-reading"
title="Postpone Third Reading"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.third_reading_postponed"
destination="bungeni.core.workflows.wfstates.billstates.third_reading"
permission="bungeni.bill.Schedule"
action=""
condition=""
/>
<transition
id="reject"
title="Rejected"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.third_reading"
destination="bungeni.core.workflows.wfstates.billstates.rejected"
permission="bungeni.bill.ChangeStatus"
action=""
condition=""
/>
<transition
id="approve"
title="Approved"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.third_reading"
destination="bungeni.core.workflows.wfstates.billstates.approved"
permission="bungeni.bill.ChangeStatus"
action=""
condition=""
/>
<transition
id="withdraw-submitted"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.submitted"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-first-reading"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_reading"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-first-committee"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.first_committee"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-second-reading"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_reading"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-whole-house"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.whole_house"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-second-committee"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.second_committee"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-report-reading"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.report_reading"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>
<transition
id="withdraw-third-reading"
title="Withdraw"
trigger="manual"
source="bungeni.core.workflows.wfstates.billstates.third_reading"
destination="bungeni.core.workflows.wfstates.billstates.withdrawn"
permission="bungeni.bill.Withdraw"
action="bungeni.core.workflows.billactions.withdraw"
condition=""
/>


  
  
  
  
</workflow>  
