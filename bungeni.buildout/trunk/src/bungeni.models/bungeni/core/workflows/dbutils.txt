some setup for tests

   >>> from zope import component
   >>> from sqlalchemy import create_engine
   >>> from ore.alchemist.interfaces import IDatabaseEngine
   >>> from ore.alchemist import Session
   >>> from bungeni import core as model
   >>> from bungeni.core import domain, schema
   >>> from bungeni.core.workflows import dbutils

   
   
Setting up Database Connection and Utilities:

   >>> db = create_engine('postgres://localhost/bungeni-test', echo=False)
   >>> component.provideUtility( db, IDatabaseEngine, 'bungeni-db' )
   >>> model.metadata.bind = db   
   >>> model.metadata.create_all() 
   >>> session = Session()

Questions

  >>> question = domain.Question()
  
  >>> session.save(question)
  >>> session.flush()
  
  >>> question.question_id
  1L
  
Responses

  >>> response = domain.Response()
  >>> response.response_id = question.question_id
  >>> session.save(response)
  >>> session.flush()
 
  
  >>> response.response_id
  1L
  
Get question for response()
---------------------------
  
  >>> q1 = dbutils.getQuestion(response.response_id)
  
  >>> q1.__class__
  <class 'bungeni.core.domain.Question'>
   
  >>> q1.question_id
  1L
  
  
  
commit all outstanding transactions
-----------------------------------  
  >>> session.flush()
  >>> session.commit()
  >>> session.close()  
